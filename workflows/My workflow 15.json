{
  "active": false,
  "connections": {
    "When clicking ‘Test workflow’": {
      "main": [
        [
          {
            "node": "Baserow",
            "type": "main",
            "index": 0
          },
          {
            "node": "Google Sheets",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Baserow": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "Code",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code": {
      "main": [
        [
          {
            "node": "HTTP Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request": {
      "main": [
        [
          {
            "node": "Baserow1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-04-06T14:46:00.560Z",
  "id": "7rnwITphn3KYBkA1",
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "name": "My workflow 15",
  "nodes": [
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        -400,
        0
      ],
      "id": "19a08079-313e-40d1-a666-bd40c96548cc",
      "name": "When clicking ‘Test workflow’"
    },
    {
      "parameters": {
        "databaseId": 104,
        "tableId": 541,
        "returnAll": true,
        "additionalOptions": {}
      },
      "type": "n8n-nodes-base.baserow",
      "typeVersion": 1,
      "position": [
        -140,
        160
      ],
      "id": "dfe1280e-de07-4ab8-8eb0-206cf059d0ee",
      "name": "Baserow",
      "credentials": {
        "baserowApi": {
          "id": "5zW4AD0Cpmzo8h8d",
          "name": "Baserow account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1tBXQL-9C86fYj6zZ4Om7OlOaSaUErodbDhYUqJJH0JY",
          "mode": "list",
          "cachedResultName": "properties",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1tBXQL-9C86fYj6zZ4Om7OlOaSaUErodbDhYUqJJH0JY/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Sheet1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1tBXQL-9C86fYj6zZ4Om7OlOaSaUErodbDhYUqJJH0JY/edit#gid=0"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        -140,
        -100
      ],
      "id": "eb80c43a-6a85-4ecd-b204-de3d5c9935c6",
      "name": "Google Sheets",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "OPTs28HKagi0JBEs",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "mode": "combine",
        "advanced": true,
        "mergeByFields": {
          "values": [
            {
              "field1": "owner_ids",
              "field2": "owner_id"
            }
          ]
        },
        "joinMode": "enrichInput1",
        "options": {}
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3,
      "position": [
        300,
        20
      ],
      "id": "a245a296-57c1-42e7-919c-c8064f450e55",
      "name": "Merge"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "256b7135-4c38-444c-8c9a-44b7135a90be",
              "name": "id",
              "value": "={{ $json.id }}",
              "type": "number"
            },
            {
              "id": "dae0b84c-ca4e-4a6b-8628-9c9011418b30",
              "name": "order",
              "value": "={{ $json.order }}",
              "type": "string"
            },
            {
              "id": "bfc0f0ea-0c59-4a2e-95a2-9befac6b786a",
              "name": "Name",
              "value": "={{ $json.Name }}",
              "type": "string"
            },
            {
              "id": "a093b2d3-130e-40ad-a3be-230689ed472f",
              "name": "First Name",
              "value": "={{ $json[\"First Name\"] }}",
              "type": "string"
            },
            {
              "id": "1eb72f36-4c43-4008-b593-9af98aeba7ca",
              "name": "Last Name",
              "value": "={{ $json[\"Last Name\"] }}",
              "type": "string"
            },
            {
              "id": "fea5975a-5263-4e85-b29c-5e222ed2da62",
              "name": "Phone Numbers",
              "value": "={{ $json[\"Phone Numbers\"] }}",
              "type": "string"
            },
            {
              "id": "58659164-8c22-459d-a36f-2749db2d6d82",
              "name": "Email",
              "value": "={{ $json.Email }}",
              "type": "string"
            },
            {
              "id": "39dc6fde-fc05-42fe-96f7-93bcedb7624f",
              "name": "Street Address 1",
              "value": "={{ $json[\"Street Address 1\"] }}",
              "type": "string"
            },
            {
              "id": "e694b40e-8537-4869-9560-89e8e7c11e97",
              "name": "City",
              "value": "={{ $json.City }}",
              "type": "string"
            },
            {
              "id": "ea792de4-1aa2-476e-9e62-1ab75d50df28",
              "name": "State",
              "value": "={{ $json.State }}",
              "type": "string"
            },
            {
              "id": "232e36cc-3af6-4527-ae2e-ca5d5f05c082",
              "name": "Zip",
              "value": "={{ $json.Zip }}",
              "type": "string"
            },
            {
              "id": "765a0eaa-3d56-409c-8eb1-6c859f4b5524",
              "name": "owner_id",
              "value": "={{ parseInt($json[\"Owner ID\"].replace(/\\n/g, '').trim()) }}\n",
              "type": "number"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        80,
        80
      ],
      "id": "ee25ec19-a017-490d-b7b6-2ef9e89cfdbf",
      "name": "Edit Fields"
    },
    {
      "parameters": {
        "operation": "create",
        "databaseId": 104,
        "tableId": 536,
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldId": 4979,
              "fieldValue": "={{ $json.property }}"
            },
            {
              "fieldId": 4997,
              "fieldValue": "={{ $json.property_id }}"
            },
            {
              "fieldId": "={{ 5068 }}",
              "fieldValue": "=[{\"id\": 82, \"value\": \"Smith, Keith\"}]"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.baserow",
      "typeVersion": 1,
      "position": [
        860,
        20
      ],
      "id": "83be445c-02c7-4253-a3e9-3ef4c20bfc65",
      "name": "Baserow1",
      "credentials": {
        "baserowApi": {
          "id": "5zW4AD0Cpmzo8h8d",
          "name": "Baserow account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// Ensure we are working with the correct format\nlet ownersArray = [];\n\nif (items[0].json.id && items[0].json.Name) {\n  // Add owner to the array as an object with 'id' and 'value'\n  ownersArray.push({\n    id: parseInt(items[0].json.id),  // Make sure it's an integer (if not already)\n    });\n}\n\n// Add the newly created array to the property record (Owners)\nitems[0].json.Owners = ownersArray;  // Just the array, no need for wrapping\n\n// Return the updated items with all fields intact\nreturn items;\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        520,
        20
      ],
      "id": "36f8ac26-f2c0-4873-a9cf-f91a21a9119a",
      "name": "Code"
    },
    {
      "parameters": {
        "url": "https://crm.blazeproperty.com/api/database/rows/table/536/?user_field_names=true",
        "authentication": "genericCredentialType",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        980,
        60
      ],
      "id": "98079e3f-0bd6-48ff-9f3e-03bcc666ae63",
      "name": "HTTP Request"
    }
  ],
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "tags": [],
  "triggerCount": 0,
  "updatedAt": "2025-04-06T21:32:21.000Z",
  "versionId": "f36eb231-302c-4186-802a-5f11c1e24a6e"
}